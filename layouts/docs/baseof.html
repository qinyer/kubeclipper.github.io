<!doctype html>
{{ $is_ee := .Site.Params.is_ee }}
<html lang="{{ .Site.Language.Lang }}" class="no-js">
  <head>
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/global.css">
    {{ partial "head.html" . }}
  </head>
  <body class="td-{{ .Kind }}">
    <header>
      {{ partial "navbar.html" . }}
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            {{ partial "sidebar.html" . }}
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            {{ partial "version-banner.html" . }}
            {{ if not .Site.Params.ui.breadcrumb_disable }}{{ partial "breadcrumb.html" . }}{{ end }}
            {{ block "main" . }}{{ end }}
          </main>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none" style="border-left: none;">
            {{ partial "toc.html" . }}
          </aside>
        </div>
      </div>
      {{ if (not $is_ee) }}
      {{ partial "footer.html" . }}
      {{ end }}
    </div>
    {{ partial "scripts.html" . }}
  </body>
  <script>
    let code
    function loadcssCode(code) {
        let style = document.createElement('style')
        style.type = 'text/css'
        style.rel = 'stylesheet'
        style.appendChild(document.createTextNode(code))
        let head = document.getElementsByTagName('head')[0]
        head.appendChild(style)
    }
  </script>
  {{ if .Site.Params.is_ee }}
    <script>
      let theme = localStorage.getItem('__oc_theme_color__')
      switch (theme) {
          case '"#F5222D"':
              code = ':root{--main-color: #F5222D;--hover-color: rgb(181 8 17);}'
              break
          case '"#FA541C"':
              code = ':root{--main-color: #FA541C;--hover-color: rgb(195 55 8);}'
              break
          case '"#FAAD14"':
              code = ':root{--main-color: #FAAD14;--hover-color: rgb(175 118 5)}'
              break
          case '"#13C2C2"':
              code = ':root{--main-color: #13C2C2;--hover-color: rgb(6 146 146)}'
              break
          case '"#52C41A"':
              code = ':root{--main-color: #52C41A;--hover-color: rgb(48 128 9)}'
              break
          case '"#1890FF"':
              code = ':root{--main-color: #1890FF;--hover-color: rgb(6 95 177)}'
              break
          case '"#2F54EB"':
              code = ':root{--main-color: #2F54EB;--hover-color: rgb(23 55 187)}'
              break
          case '"#A100FF"':
              code = ':root{--main-color: #A100FF;--hover-color: #460B73;}'
              break
          default:
              code = ':root{--main-color: rgb(24, 144, 255);--hover-color: rgb(18 113 202);}'
      }
      loadcssCode(code)
    </script>
  {{ else }}
    <script>
      code = ':root{--main-color: #076f38;--hover-color: #042513;}'
      loadcssCode(code)
    </script>
  {{ end }}
</html>
